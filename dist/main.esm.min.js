var e=0,n=function(n){return void 0===n&&(n="__special"),""+n+e++},r=function(e,r,t){var o=this,i=function(e){var n=e.indexOf("?")+1,r={};if(!n)return{url:e,params:r};for(var t=0,o=e.slice(n).split("&");t<o.length;t++){var i=o[t].split("="),a=i[0],c=i[1];r[a]=c}return{url:e.slice(0,n-1),params:r}}(e),a=i.params,c=i.url;e=c,r||(r={}),"function"==typeof r&&(t=r,r={});var u,l=r.name,f=void 0===l?"callback":l,s=r.timeout,p=void 0===s?1e4:s,d=r.params,v=void 0===d?{}:d,m=function(e){for(var r=n(e);window[r];)r=n(e);return r}(r.prefix);window[m]=function(e){y(),"function"==typeof t&&t.call(o,null,e)},v[f]=m,a=Object.assign(a,v),"number"==typeof p&&(u=setTimeout((function(){y(),"function"==typeof t&&t.call(o,new Error("Task timeout"))}),p));var b=document.createElement("script"),w=encodeURI(""+e+function(e){var n="";for(var r in e=e||{}){if(e.hasOwnProperty(r))n+=r+"="+e[r]+"&"}return n.length&&(n="?"+n.slice(0,-1)),n}(a));function y(){b.parentElement&&b.parentElement.removeChild(b),u&&clearTimeout(u),window[m]=function(){}}return b.setAttribute("scr",w),b.addEventListener("error",(function(){y(),"function"==typeof t&&t.call(o,new Error("Failed to create jsonp, request target address is:"+e))})),document.body.appendChild(b),y};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),t=1;t<arguments.length;t++){var o=arguments[t];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])}return r},writable:!0,configurable:!0});var t=function(e,n){var t,o=new Promise((function(o,i){t=r(e,n,(function(e,n){return e?i(e):o(n)}))}));return{cancel:t,promise:o}};export default t;export{r as callback,t as get};
//# sourceMappingURL=main.esm.min.js.map
