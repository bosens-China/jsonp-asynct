!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).jsonp={})}(this,(function(e){"use strict";var n=0,t=function(e){return void 0===e&&(e="__special"),""+e+n++},r=function(e,n,r){var o=this,i=function(e){var n=e.indexOf("?")+1,t={};if(!n)return{url:e,params:t};for(var r=0,o=e.slice(n).split("&");r<o.length;r++){var i=o[r].split("="),a=i[0],c=i[1];t[a]=c}return{url:e.slice(0,n-1),params:t}}(e),a=i.params,c=i.url;e=c,n||(n={}),"function"==typeof n&&(r=n,n={});var u,f=n.name,l=void 0===f?"callback":f,s=n.timeout,p=void 0===s?1e4:s,d=n.params,v=void 0===d?{}:d,m=function(e){for(var n=t(e);window[n];)n=t(e);return n}(n.prefix);window[m]=function(e){w(),"function"==typeof r&&r.call(o,null,e)},v[l]=m,a=Object.assign(a,v),"number"==typeof p&&(u=setTimeout((function(){w(),"function"==typeof r&&r.call(o,new Error("Task timeout"))}),p));var b=document.createElement("script"),y=encodeURI(""+e+function(e){var n="";for(var t in e=e||{}){if(e.hasOwnProperty(t))n+=t+"="+e[t]+"&"}return n.length&&(n="?"+n.slice(0,-1)),n}(a));function w(){b.parentElement&&b.parentElement.removeChild(b),u&&clearTimeout(u),window[m]=function(){}}return b.setAttribute("src",y),b.addEventListener("error",(function(){w(),"function"==typeof r&&r.call(o,new Error("Failed to create jsonp, request target address is:"+e))})),document.body.appendChild(b),w};"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},writable:!0,configurable:!0});var o=function(e,n){var t,o=new Promise((function(o,i){t=r(e,n,(function(e,n){return e?i(e):o(n)}))}));return{cancel:t,promise:o}};e.callback=r,e.default=o,e.get=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=main.min.js.map
